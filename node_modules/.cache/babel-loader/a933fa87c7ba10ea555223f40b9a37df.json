{"ast":null,"code":"var _jsxFileName = \"/Users/shahid/Desktop/recruitment-test-fullstack/app/javascript/components/users/ArticaleEdit.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { Redirect, useHistory, Link } from \"react-router-dom\";\n\nvar ArticaleEdit = /*#__PURE__*/function (_React$Component) {\n  _inherits(ArticaleEdit, _React$Component);\n\n  var _super = _createSuper(ArticaleEdit);\n\n  function ArticaleEdit(props) {\n    var _this;\n\n    _classCallCheck(this, ArticaleEdit);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      title: '',\n      is_publish: true,\n      publish_date: '',\n      content: '',\n      image: '',\n      redirect: false\n    };\n    return _this;\n  }\n\n  _createClass(ArticaleEdit, [{\n    key: \"getUsersArticle\",\n    value: function getUsersArticle() {\n      var _this2 = this;\n\n      var id = this.props.match.params.id; // const title        = []\n      // const is_publish   = []\n      // const publish_date = []\n      // const content      = []\n      // const image        = []\n\n      axios.get(\"/api/v1/articles/\".concat(id, \"?screen=edit\"), {}).then(function (res) {\n        var data = res.data;\n\n        if (data.success) {\n          console.log(data);\n          var title = data.articles.title;\n          var is_publish = data.articles.is_publish;\n          var publish_date = data.articles.publish_dt;\n          var content = data.articles.content;\n          var image = data.articles.image;\n\n          _this2.setState({\n            title: title\n          });\n\n          _this2.setState({\n            is_publish: is_publish\n          });\n\n          _this2.setState({\n            publish_date: publish_date\n          });\n\n          _this2.setState({\n            content: content\n          });\n\n          _this2.setState({\n            image: image\n          });\n        }\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      var id = this.props.match.params.id;\n      var _this$state = this.state,\n          title = _this$state.title,\n          is_publish = _this$state.is_publish,\n          publish_date = _this$state.publish_date,\n          content = _this$state.content,\n          image = _this$state.image;\n      var auth = this.props.auth;\n      var data = {\n        title: title,\n        is_publish: is_publish,\n        publish_date: publish_date,\n        content: content,\n        image: image\n      };\n      axios({\n        url: \"/api/v1/articles/\".concat(id),\n        method: 'PUT',\n        headers: {\n          'access-token': auth.accessToken,\n          'client': auth.client,\n          'uid': auth.uid,\n          'expiry': auth.expiry,\n          'token-type': 'Bearer'\n        },\n        data: data\n      }).then(function (response) {\n        _this3.setState({\n          redirect: true\n        });\n      })[\"catch\"](function (error) {\n        console.log(error); // if (error.response && error.response.status === 401) {\n        // this.props.dispatch(expireAuthentication())\n        // }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUsersArticle();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content-page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"page-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      }, \"Edit Artical\")))), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 29\n        }\n      }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            title: e.target.value\n          });\n        },\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 29\n        }\n      }, \"Content\"), /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"form-control\",\n        value: this.state.content,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            content: e.target.value\n          });\n        },\n        rows: \"5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 29\n        }\n      }, \"Image Url\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.image,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            image: e.target.value\n          });\n        },\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }\n      }, \"Publish date\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"date\",\n        value: this.state.publish_dt,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            publish_date: e.target.value\n          });\n        },\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }\n      }, \"Publish\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-select\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 31\n        }\n      }, \"yes\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"false\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 31\n        }\n      }, \"no\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"button-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary waves-effect waves-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 27\n        }\n      }, \"Update\"), /*#__PURE__*/React.createElement(Link, {\n        to: \"/user/article\",\n        className: \"btn btn-secondary waves-effect\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 27\n        }\n      }, \"Back\")))))))))));\n    }\n  }]);\n\n  return ArticaleEdit;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  var auth = state.auth;\n  return {\n    auth: auth\n  };\n}\n\nexport default connect(mapStateToProps)(ArticaleEdit);","map":{"version":3,"sources":["/Users/shahid/Desktop/recruitment-test-fullstack/app/javascript/components/users/ArticaleEdit.js"],"names":["React","axios","connect","Redirect","useHistory","Link","ArticaleEdit","props","state","title","is_publish","publish_date","content","image","redirect","id","match","params","get","then","res","data","success","console","log","articles","publish_dt","setState","error","e","preventDefault","auth","url","method","headers","accessToken","client","uid","expiry","response","getUsersArticle","handleSubmit","bind","target","value","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { connect } from 'react-redux'\nimport { Redirect, useHistory, Link } from \"react-router-dom\"\n\nclass ArticaleEdit extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      title:     '',\n      is_publish: true,\n      publish_date: '',\n      content:   '',\n      image:     '',\n      redirect: false\n    }\n  }\n\n  getUsersArticle() {\n    const { id } = this.props.match.params\n    // const title        = []\n    // const is_publish   = []\n    // const publish_date = []\n    // const content      = []\n    // const image        = []\n    axios.get(`/api/v1/articles/${id}?screen=edit`,{})\n    .then(res => {\n      const data = res.data\n      if(data.success){\n        console.log(data)\n        const title        = data.articles.title\n        const is_publish   = data.articles.is_publish\n        const publish_date = data.articles.publish_dt\n        const content      = data.articles.content\n        const image        = data.articles.image\n        this.setState({title})\n        this.setState({is_publish})\n        this.setState({publish_date})\n        this.setState({content})\n        this.setState({image})\n      }\n    }).catch(error => {\n      console.log(error)\n    })\n  }\n\n    handleSubmit(e) {\n      e.preventDefault()\n      const { id } = this.props.match.params\n      const { title, is_publish, publish_date, content, image } = this.state\n      const { auth } = this.props\n      const data = {\n        title, is_publish, publish_date, content, image\n      }\n      axios({\n        url: `/api/v1/articles/${id}`,\n        method: 'PUT',\n        headers: {\n          'access-token': auth.accessToken,\n          'client': auth.client,\n          'uid': auth.uid,\n          'expiry': auth.expiry,\n          'token-type': 'Bearer'\n        },\n        data\n      }).then(response => {\n        this.setState({ redirect: true })\n      }).catch(error => {\n        console.log(error)\n        // if (error.response && error.response.status === 401) {\n          // this.props.dispatch(expireAuthentication())\n        // }\n      })\n    }\n  componentDidMount(){\n    this.getUsersArticle()\n  }\n\n  render() {\n    return (\n      <div className=\"content-page\">\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <div className=\"page-title-box\">\n                  <h4 className=\"page-title\">Edit Artical</h4>\n                </div>\n              </div>\n            </div>\n            <form onSubmit={this.handleSubmit.bind(this)}>\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  <div className=\"card\">\n                    <div className=\"card-body\">\n                      <div className=\"row\">\n                        <div className=\"col-lg-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Title</label>\n                            <input type=\"text\" value={this.state.title} onChange={(e) => this.setState({ title: e.target.value })} className=\"form-control\"/>\n                          </div>\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Content</label>\n                            <textarea className=\"form-control\" value={this.state.content} onChange={(e) => this.setState({ content: e.target.value })} rows=\"5\"></textarea>\n                          </div>\n                        </div>\n                        <div className=\"col-lg-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Image Url</label>\n                            <input type=\"text\" value={this.state.image} onChange={(e) => this.setState({ image: e.target.value })} className=\"form-control\"/>\n                          </div>\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Publish date</label>\n                            <input type=\"date\" value={this.state.publish_dt} onChange={(e) => this.setState({ publish_date: e.target.value })} className=\"form-control\"/>\n                          </div>\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Publish</label>\n                            <select className=\"form-select\">\n                              <option value='true'>yes</option>\n                              <option value='false'>no</option>\n                            </select>\n                          </div>\n                        </div>\n                        <div className=\"button-list\">\n                          <button type=\"submit\" className=\"btn btn-primary waves-effect waves-light\">Update</button>\n                          <Link to=\"/user/article\" className=\"btn btn-secondary waves-effect\">\n                            Back\n                          </Link>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { auth } = state\n  return { auth }\n}\n\nexport default connect(mapStateToProps)(ArticaleEdit)"]},"metadata":{},"sourceType":"module"}