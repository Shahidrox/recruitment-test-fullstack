{"ast":null,"code":"import axios from 'axios';\nvar REQUEST = 'react-devise-sample/articles/REQUEST';\nvar RECEIVED = 'react-devise-sample/articles/RECEIVED';\nvar FAILED = 'react-devise-sample/articles/FAILED';\nexport function fetchArticles() {\n  return function (dispatch, getState) {\n    dispatch(requestArticles());\n    return axios({\n      url: '/api/v1/articles/list',\n      method: 'POST'\n    }).then(function (response) {\n      dispatch(receiveArticles(response.data.articles));\n    })[\"catch\"](function (error) {\n      dispatch(failFetchArticles());\n    });\n  };\n}\n\nfunction requestArticles() {\n  return {\n    type: REQUEST\n  };\n}\n\nfunction receiveArticles(articles) {\n  return {\n    type: RECEIVED,\n    articles: articles\n  };\n}\n\nfunction failFetchArticles() {\n  return {\n    type: FAILED\n  };\n} // reducer\n\n\nexport default function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  console.log('-----');\n  console.log(action);\n  console.log('-----');\n\n  switch (action.type) {\n    case REQUEST:\n      return Object.assign({}, state, {\n        loading: true\n      });\n\n    case RECEIVED:\n      return {\n        loading: false,\n        articles: action.articles,\n        pagination: action.pagination\n      };\n\n    case FAILED:\n      {\n        return Object.assign({}, state, {\n          loading: false\n        });\n      }\n\n    default:\n      return state;\n  }\n}\nvar initialState = {\n  loading: false,\n  articles: []\n};","map":{"version":3,"sources":["/Users/shahid/Desktop/recruitment-test-fullstack/app/javascript/components/modules/ArticleList.js"],"names":["axios","REQUEST","RECEIVED","FAILED","fetchArticles","dispatch","getState","requestArticles","url","method","then","response","receiveArticles","data","articles","error","failFetchArticles","type","reducer","state","initialState","action","console","log","Object","assign","loading","pagination"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,sCAAhB;AACA,IAAMC,QAAQ,GAAG,uCAAjB;AACA,IAAMC,MAAM,GAAG,qCAAf;AAEA,OAAO,SAASC,aAAT,GAAyB;AAC9B,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC7BD,IAAAA,QAAQ,CAACE,eAAe,EAAhB,CAAR;AACA,WAAOP,KAAK,CAAC;AACXQ,MAAAA,GAAG,EAAE,uBADM;AAEXC,MAAAA,MAAM,EAAE;AAFG,KAAD,CAAL,CAGJC,IAHI,CAGC,UAAAC,QAAQ,EAAI;AAClBN,MAAAA,QAAQ,CAACO,eAAe,CAACD,QAAQ,CAACE,IAAT,CAAcC,QAAf,CAAhB,CAAR;AACD,KALM,WAKE,UAAAC,KAAK,EAAI;AAChBV,MAAAA,QAAQ,CAACW,iBAAiB,EAAlB,CAAR;AACD,KAPM,CAAP;AAQD,GAVD;AAWD;;AAED,SAAST,eAAT,GAA2B;AACzB,SAAO;AAAEU,IAAAA,IAAI,EAAEhB;AAAR,GAAP;AACD;;AAED,SAASW,eAAT,CAAyBE,QAAzB,EAAmC;AACjC,SAAO;AAAEG,IAAAA,IAAI,EAAEf,QAAR;AAAkBY,IAAAA,QAAQ,EAARA;AAAlB,GAAP;AACD;;AAED,SAASE,iBAAT,GAA6B;AAC3B,SAAO;AAAEC,IAAAA,IAAI,EAAEd;AAAR,GAAP;AACD,C,CACD;;;AACA,eAAe,SAASe,OAAT,GAAoD;AAAA,MAAnCC,KAAmC,uEAA3BC,YAA2B;AAAA,MAAbC,MAAa,uEAAJ,EAAI;AACnEC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACED,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACFC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AACE,UAAQF,MAAM,CAACJ,IAAf;AACE,SAAKhB,OAAL;AACE,aAAOuB,MAAM,CAACC,MAAP,CACL,EADK,EAELN,KAFK,EAGL;AACEO,QAAAA,OAAO,EAAE;AADX,OAHK,CAAP;;AAOF,SAAKxB,QAAL;AACE,aAAO;AACLwB,QAAAA,OAAO,EAAE,KADJ;AAELZ,QAAAA,QAAQ,EAAEO,MAAM,CAACP,QAFZ;AAGLa,QAAAA,UAAU,EAAEN,MAAM,CAACM;AAHd,OAAP;;AAKF,SAAKxB,MAAL;AAAY;AACV,eAAOqB,MAAM,CAACC,MAAP,CACL,EADK,EAELN,KAFK,EAGL;AACEO,UAAAA,OAAO,EAAE;AADX,SAHK,CAAP;AAOD;;AACD;AAAS,aAAOP,KAAP;AAxBX;AA0BD;AAED,IAAMC,YAAY,GAAG;AACnBM,EAAAA,OAAO,EAAE,KADU;AAEnBZ,EAAAA,QAAQ,EAAE;AAFS,CAArB","sourcesContent":["import axios from 'axios'\n\nconst REQUEST = 'react-devise-sample/articles/REQUEST'\nconst RECEIVED = 'react-devise-sample/articles/RECEIVED'\nconst FAILED = 'react-devise-sample/articles/FAILED'\n\nexport function fetchArticles() {\n  return (dispatch, getState) => {\n    dispatch(requestArticles())\n    return axios({\n      url: '/api/v1/articles/list',\n      method: 'POST'\n    }).then(response => {\n      dispatch(receiveArticles(response.data.articles))\n    }).catch(error => {\n      dispatch(failFetchArticles())\n    })\n  }\n}\n\nfunction requestArticles() {\n  return { type: REQUEST }\n}\n\nfunction receiveArticles(articles) {\n  return { type: RECEIVED, articles }\n}\n\nfunction failFetchArticles() {\n  return { type: FAILED }\n}\n// reducer\nexport default function reducer(state = initialState, action = {}) {\nconsole.log('-----')\n  console.log(action)\nconsole.log('-----')\n  switch (action.type) {\n    case REQUEST:\n      return Object.assign(\n        {},\n        state,\n        {\n          loading: true\n        }\n      )\n    case RECEIVED:\n      return {\n        loading: false,\n        articles: action.articles,\n        pagination: action.pagination\n      }\n    case FAILED:{\n      return Object.assign(\n        {},\n        state,\n        {\n          loading: false\n        }\n      )\n    }\n    default: return state\n  }\n}\n\nconst initialState = {\n  loading: false,\n  articles: []\n}"]},"metadata":{},"sourceType":"module"}