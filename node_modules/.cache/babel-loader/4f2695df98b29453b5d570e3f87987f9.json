{"ast":null,"code":"var _jsxFileName = \"/Users/shahid/Desktop/recruitment-test-fullstack/app/javascript/components/users/ArticaleList.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { Redirect, useHistory, Link } from \"react-router-dom\";\nimport toast from 'react-hot-toast';\n\nvar ArticaleList = /*#__PURE__*/function (_React$Component) {\n  _inherits(ArticaleList, _React$Component);\n\n  var _super = _createSuper(ArticaleList);\n\n  function ArticaleList(props) {\n    var _this;\n\n    _classCallCheck(this, ArticaleList);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      list: []\n    };\n    return _this;\n  }\n\n  _createClass(ArticaleList, [{\n    key: \"getUsersData\",\n    value: function getUsersData() {\n      var _this2 = this;\n\n      var auth = this.props.auth;\n      var list = [];\n      axios({\n        url: '/api/v1/users/get_article',\n        headers: {\n          'access-token': auth.accessToken,\n          'client': auth.client,\n          'uid': auth.uid,\n          'expiry': auth.expiry,\n          'token-type': 'Bearer'\n        }\n      }).then(function (res) {\n        var data = res.data;\n\n        if (data.success) {\n          data.articles.forEach(function (art, i) {\n            list.push( /*#__PURE__*/React.createElement(\"tr\", {\n              key: i,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 32,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(\"th\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 17\n              }\n            }, art.image), /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 34,\n                columnNumber: 17\n              }\n            }, art.title), /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 17\n              }\n            }, art.publish_date), /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 17\n              }\n            }, art.is_publish), /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 17\n              }\n            }, art.content), /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 17\n              }\n            }, art.view_count), /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(Link, {\n              className: \"dropdown-item notify-item\",\n              to: \"/user/article/edit/\".concat(art.id),\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 19\n              }\n            }, /*#__PURE__*/React.createElement(\"i\", {\n              className: \"fe-edit\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 21\n              }\n            }), /*#__PURE__*/React.createElement(\"span\", {\n              className: \"pro-user-name ms-1\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 21\n              }\n            }, \"edit\")), /*#__PURE__*/React.createElement(Link, {\n              className: \"dropdown-item notify-item\",\n              to: \"/articles/\".concat(art.id),\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 19\n              }\n            }, /*#__PURE__*/React.createElement(\"i\", {\n              className: \"fe-eye\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 21\n              }\n            }), /*#__PURE__*/React.createElement(\"span\", {\n              className: \"pro-user-name ms-1\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 21\n              }\n            }, \"show\")), /*#__PURE__*/React.createElement(\"a\", {\n              \"data-id\": art.id,\n              href: \"#\",\n              onClick: _this2.handleClick.bind(_this2),\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 19\n              }\n            }, /*#__PURE__*/React.createElement(\"i\", {\n              className: \"fe-trash-2\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 21\n              }\n            }), \"delete\"))));\n          });\n\n          _this2.setState({\n            list: list\n          });\n        }\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUsersData();\n    }\n  }, {\n    key: \"deleteUsersData\",\n    value: function deleteUsersData() {\n      var auth = this.props.auth;\n      var id = this.state.id;\n      axios({\n        url: \"/api/v1/articles/\".concat(id),\n        method: 'DELETE',\n        headers: {\n          'access-token': auth.accessToken,\n          'client': auth.client,\n          'uid': auth.uid\n        }\n      }).then(function (response) {\n        toast.success('Successfully Delete!');\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      e.preventDefault();\n      debugger;\n      var id = e.target.dataset.id;\n      console.log(id);\n\n      if (confirm(\"Are you ok to delete?\")) {\n        this.setState({\n          id: id\n        });\n        this.deleteUsersData();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"1\",\n        className: \"content-page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"page-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }\n      }, \"Articles\"), /*#__PURE__*/React.createElement(Link, {\n        to: \"/user/newarticle\",\n        className: \"btn btn-primary waves-effect waves-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }), \" Add Article\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table-responsive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        className: \"table-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 27\n        }\n      }, \"image\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 27\n        }\n      }, \"title\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 27\n        }\n      }, \"publish_date\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 27\n        }\n      }, \"published\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 27\n        }\n      }, \"content\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 27\n        }\n      }, \"view_count\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 23\n        }\n      }, this.state.list)))))))), /*#__PURE__*/React.createElement(\"footer\", {\n        className: \"footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"script\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }, \"document.write(new Date().getFullYear())\"), \"2021 \\xA9 Code\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return ArticaleList;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  var auth = state.auth;\n  return {\n    auth: auth\n  };\n}\n\nexport default connect(mapStateToProps)(ArticaleList);","map":{"version":3,"sources":["/Users/shahid/Desktop/recruitment-test-fullstack/app/javascript/components/users/ArticaleList.js"],"names":["React","axios","connect","Redirect","useHistory","Link","toast","ArticaleList","props","state","list","auth","url","headers","accessToken","client","uid","expiry","then","res","data","success","articles","forEach","art","i","push","image","title","publish_date","is_publish","content","view_count","id","handleClick","bind","setState","error","console","log","getUsersData","method","response","e","preventDefault","target","dataset","confirm","deleteUsersData","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { connect } from 'react-redux'\nimport { Redirect, useHistory, Link } from \"react-router-dom\"\nimport toast from 'react-hot-toast';\n\nclass ArticaleList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: []\n    };\n  }\n\n  getUsersData() {\n      const { auth } = this.props\n      const list = []\n      axios({\n        url: '/api/v1/users/get_article',\n        headers: {\n          'access-token': auth.accessToken,\n          'client':       auth.client,\n          'uid':          auth.uid,\n          'expiry':       auth.expiry,\n          'token-type':   'Bearer'\n        }\n      }).then(res => {\n        const data = res.data\n        if(data.success){\n          data.articles.forEach( (art, i) => {\n            list.push(\n              <tr key={i}>\n                <th>{art.image}</th>\n                <td>{art.title}</td>\n                <td>{art.publish_date}</td>\n                <td>{art.is_publish}</td>\n                <td>{art.content}</td>\n                <td>{art.view_count}</td>\n                <td>\n                  <Link className=\"dropdown-item notify-item\" to={`/user/article/edit/${art.id}`}>\n                    <i className=\"fe-edit\"></i>\n                    <span className=\"pro-user-name ms-1\">edit</span>\n                  </Link>\n                  <Link className=\"dropdown-item notify-item\" to={`/articles/${art.id}`}>\n                    <i className=\"fe-eye\"></i>\n                    <span className=\"pro-user-name ms-1\">show</span>\n                  </Link>\n                  <a data-id={art.id} href=\"#\" onClick={this.handleClick.bind(this)}>\n                    <i className=\"fe-trash-2\"></i>delete\n                  </a>\n                </td>\n              </tr>\n            )\n          })\n          this.setState({list})\n        }\n      }).catch(error => {\n        console.log(error)\n      })\n  }\n\n  componentDidMount(){\n    this.getUsersData()\n  }\n  deleteUsersData(){\n    const { auth } = this.props\n    const id = this.state.id\n    axios({\n      url: `/api/v1/articles/${id}`,\n      method: 'DELETE',\n      headers: {\n        'access-token': auth.accessToken,\n        'client': auth.client,\n        'uid': auth.uid\n      }\n    }).then(response => {\n      toast.success('Successfully Delete!')\n    }).catch(error => {\n      console.log(error)\n    })\n  }\n  handleClick(e) {\n    e.preventDefault()\n    debugger;\n    const { id } = e.target.dataset\n    console.log(id)\n    if (confirm(`Are you ok to delete?`)) {\n      this.setState({id})\n      this.deleteUsersData()\n    }\n  }\n\n  render() {\n    return (\n      <div key='1' className=\"content-page\">\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <div className=\"page-title-box\">\n                  <h4 className=\"page-title\">Articles</h4>\n                  <Link to=\"/user/newarticle\" className=\"btn btn-primary waves-effect waves-light\">\n                    <i className=\"mdi mdi-plus\"></i> Add Article\n                  </Link>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"table-responsive\">\n                    <table className=\"table mb-0\">\n                      <thead className='table-dark'>\n                        <tr>\n                          <th>image</th>\n                          <th>title</th>\n                          <th>publish_date</th>\n                          <th>published</th>\n                          <th>content</th>\n                          <th>view_count</th>\n                          <th></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {this.state.list}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <footer className=\"footer\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-md-6\">\n                <script>document.write(new Date().getFullYear())</script>2021 © Code\n              </div>\n              <div className=\"col-md-3\"></div>\n            </div>\n          </div>\n        </footer>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { auth } = state\n  return { auth }\n}\nexport default connect(mapStateToProps)(ArticaleList)"]},"metadata":{},"sourceType":"module"}